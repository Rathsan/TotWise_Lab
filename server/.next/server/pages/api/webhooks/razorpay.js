"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/webhooks/razorpay";
exports.ids = ["pages/api/webhooks/razorpay"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "postmark":
/*!***************************!*\
  !*** external "postmark" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("postmark");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = import("@supabase/supabase-js");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fwebhooks%2Frazorpay&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fwebhooks%2Frazorpay.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fwebhooks%2Frazorpay&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fwebhooks%2Frazorpay.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_webhooks_razorpay_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/webhooks/razorpay.js */ \"(api)/./pages/api/webhooks/razorpay.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_webhooks_razorpay_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_webhooks_razorpay_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_webhooks_razorpay_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_webhooks_razorpay_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/webhooks/razorpay\",\n        pathname: \"/api/webhooks/razorpay\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_webhooks_razorpay_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRndlYmhvb2tzJTJGcmF6b3JwYXkmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRndlYmhvb2tzJTJGcmF6b3JwYXkuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDNkQ7QUFDN0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDREQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyw0REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b3R3aXNlLXNlcnZlci8/ZjNiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL3dlYmhvb2tzL3Jhem9ycGF5LmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvd2ViaG9va3MvcmF6b3JwYXlcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS93ZWJob29rcy9yYXpvcnBheVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fwebhooks%2Frazorpay&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fwebhooks%2Frazorpay.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/postmark.js":
/*!*************************!*\
  !*** ./lib/postmark.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   postmarkClient: () => (/* binding */ postmarkClient),\n/* harmony export */   postmarkSender: () => (/* binding */ postmarkSender)\n/* harmony export */ });\n/* harmony import */ var postmark__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! postmark */ \"postmark\");\n/* harmony import */ var postmark__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(postmark__WEBPACK_IMPORTED_MODULE_0__);\n\nconst serverToken = process.env.POSTMARK_SERVER_TOKEN;\nconst senderEmail = process.env.POSTMARK_SENDER_EMAIL;\nif (!serverToken || !senderEmail) {\n    throw new Error(\"Missing Postmark configuration\");\n}\nconst postmarkClient = new postmark__WEBPACK_IMPORTED_MODULE_0__.ServerClient(serverToken);\nconst postmarkSender = senderEmail;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcG9zdG1hcmsuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3QztBQUV4QyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNDLHFCQUFxQjtBQUNyRCxNQUFNQyxjQUFjSCxRQUFRQyxHQUFHLENBQUNHLHFCQUFxQjtBQUVyRCxJQUFJLENBQUNMLGVBQWUsQ0FBQ0ksYUFBYTtJQUNoQyxNQUFNLElBQUlFLE1BQU07QUFDbEI7QUFFTyxNQUFNQyxpQkFBaUIsSUFBSVIsa0RBQVlBLENBQUNDLGFBQWE7QUFDckQsTUFBTVEsaUJBQWlCSixZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG90d2lzZS1zZXJ2ZXIvLi9saWIvcG9zdG1hcmsuanM/ZDNhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXJ2ZXJDbGllbnQgfSBmcm9tICdwb3N0bWFyayc7XG5cbmNvbnN0IHNlcnZlclRva2VuID0gcHJvY2Vzcy5lbnYuUE9TVE1BUktfU0VSVkVSX1RPS0VOO1xuY29uc3Qgc2VuZGVyRW1haWwgPSBwcm9jZXNzLmVudi5QT1NUTUFSS19TRU5ERVJfRU1BSUw7XG5cbmlmICghc2VydmVyVG9rZW4gfHwgIXNlbmRlckVtYWlsKSB7XG4gIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBQb3N0bWFyayBjb25maWd1cmF0aW9uJyk7XG59XG5cbmV4cG9ydCBjb25zdCBwb3N0bWFya0NsaWVudCA9IG5ldyBTZXJ2ZXJDbGllbnQoc2VydmVyVG9rZW4pO1xuZXhwb3J0IGNvbnN0IHBvc3RtYXJrU2VuZGVyID0gc2VuZGVyRW1haWw7XG4iXSwibmFtZXMiOlsiU2VydmVyQ2xpZW50Iiwic2VydmVyVG9rZW4iLCJwcm9jZXNzIiwiZW52IiwiUE9TVE1BUktfU0VSVkVSX1RPS0VOIiwic2VuZGVyRW1haWwiLCJQT1NUTUFSS19TRU5ERVJfRU1BSUwiLCJFcnJvciIsInBvc3RtYXJrQ2xpZW50IiwicG9zdG1hcmtTZW5kZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/postmark.js\n");

/***/ }),

/***/ "(api)/./lib/subscription.js":
/*!*****************************!*\
  !*** ./lib/subscription.js ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureUser: () => (/* binding */ ensureUser),\n/* harmony export */   getActiveSubscription: () => (/* binding */ getActiveSubscription),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   hasActiveSubscription: () => (/* binding */ hasActiveSubscription)\n/* harmony export */ });\n/* harmony import */ var _supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabaseAdmin */ \"(api)/./lib/supabaseAdmin.js\");\n/* harmony import */ var _validate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./validate */ \"(api)/./lib/validate.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__]);\n_supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function getUserByEmail(email) {\n    const { data, error } = await _supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"users\").select(\"*\").eq(\"email\", email).maybeSingle();\n    if (error) throw error;\n    return data;\n}\nasync function ensureUser(email) {\n    const existing = await getUserByEmail(email);\n    if (existing) return existing;\n    const { data, error } = await _supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"users\").insert({\n        email\n    }).select(\"*\").single();\n    if (error) throw error;\n    return data;\n}\nasync function hasActiveSubscription(userId) {\n    const { data, error } = await _supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"subscriptions\").select(\"id\").eq(\"user_id\", userId).eq(\"status\", \"ACTIVE\").eq(\"plan\", _validate__WEBPACK_IMPORTED_MODULE_1__.PLAN_ID).gt(\"expiry_date\", new Date().toISOString()).limit(1).maybeSingle();\n    if (error) throw error;\n    return !!data;\n}\nasync function getActiveSubscription(userId) {\n    const { data, error } = await _supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"subscriptions\").select(\"*\").eq(\"user_id\", userId).eq(\"status\", \"ACTIVE\").eq(\"plan\", _validate__WEBPACK_IMPORTED_MODULE_1__.PLAN_ID).gt(\"expiry_date\", new Date().toISOString()).order(\"expiry_date\", {\n        ascending: false\n    }).limit(1).maybeSingle();\n    if (error) throw error;\n    return data || null;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3Vic2NyaXB0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFnRDtBQUNYO0FBRTlCLGVBQWVFLGVBQWVDLEtBQUs7SUFDeEMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1MLHlEQUFhQSxDQUN4Q00sSUFBSSxDQUFDLFNBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsU0FBU0wsT0FDWk0sV0FBVztJQUNkLElBQUlKLE9BQU8sTUFBTUE7SUFDakIsT0FBT0Q7QUFDVDtBQUVPLGVBQWVNLFdBQVdQLEtBQUs7SUFDcEMsTUFBTVEsV0FBVyxNQUFNVCxlQUFlQztJQUN0QyxJQUFJUSxVQUFVLE9BQU9BO0lBQ3JCLE1BQU0sRUFBRVAsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNTCx5REFBYUEsQ0FDeENNLElBQUksQ0FBQyxTQUNMTSxNQUFNLENBQUM7UUFBRVQ7SUFBTSxHQUNmSSxNQUFNLENBQUMsS0FDUE0sTUFBTTtJQUNULElBQUlSLE9BQU8sTUFBTUE7SUFDakIsT0FBT0Q7QUFDVDtBQUVPLGVBQWVVLHNCQUFzQkMsTUFBTTtJQUNoRCxNQUFNLEVBQUVYLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUwseURBQWFBLENBQ3hDTSxJQUFJLENBQUMsaUJBQ0xDLE1BQU0sQ0FBQyxNQUNQQyxFQUFFLENBQUMsV0FBV08sUUFDZFAsRUFBRSxDQUFDLFVBQVUsVUFDYkEsRUFBRSxDQUFDLFFBQVFQLDhDQUFPQSxFQUNsQmUsRUFBRSxDQUFDLGVBQWUsSUFBSUMsT0FBT0MsV0FBVyxJQUN4Q0MsS0FBSyxDQUFDLEdBQ05WLFdBQVc7SUFDZCxJQUFJSixPQUFPLE1BQU1BO0lBQ2pCLE9BQU8sQ0FBQyxDQUFDRDtBQUNYO0FBRU8sZUFBZWdCLHNCQUFzQkwsTUFBTTtJQUNoRCxNQUFNLEVBQUVYLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUwseURBQWFBLENBQ3hDTSxJQUFJLENBQUMsaUJBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsV0FBV08sUUFDZFAsRUFBRSxDQUFDLFVBQVUsVUFDYkEsRUFBRSxDQUFDLFFBQVFQLDhDQUFPQSxFQUNsQmUsRUFBRSxDQUFDLGVBQWUsSUFBSUMsT0FBT0MsV0FBVyxJQUN4Q0csS0FBSyxDQUFDLGVBQWU7UUFBRUMsV0FBVztJQUFNLEdBQ3hDSCxLQUFLLENBQUMsR0FDTlYsV0FBVztJQUNkLElBQUlKLE9BQU8sTUFBTUE7SUFDakIsT0FBT0QsUUFBUTtBQUNqQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RvdHdpc2Utc2VydmVyLy4vbGliL3N1YnNjcmlwdGlvbi5qcz9iNDQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlQWRtaW4gfSBmcm9tICcuL3N1cGFiYXNlQWRtaW4nO1xuaW1wb3J0IHsgUExBTl9JRCB9IGZyb20gJy4vdmFsaWRhdGUnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5RW1haWwoZW1haWwpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgIC5mcm9tKCd1c2VycycpXG4gICAgLnNlbGVjdCgnKicpXG4gICAgLmVxKCdlbWFpbCcsIGVtYWlsKVxuICAgIC5tYXliZVNpbmdsZSgpO1xuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICByZXR1cm4gZGF0YTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZVVzZXIoZW1haWwpIHtcbiAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBnZXRVc2VyQnlFbWFpbChlbWFpbCk7XG4gIGlmIChleGlzdGluZykgcmV0dXJuIGV4aXN0aW5nO1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgLmZyb20oJ3VzZXJzJylcbiAgICAuaW5zZXJ0KHsgZW1haWwgfSlcbiAgICAuc2VsZWN0KCcqJylcbiAgICAuc2luZ2xlKCk7XG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gIHJldHVybiBkYXRhO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzQWN0aXZlU3Vic2NyaXB0aW9uKHVzZXJJZCkge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgLmZyb20oJ3N1YnNjcmlwdGlvbnMnKVxuICAgIC5zZWxlY3QoJ2lkJylcbiAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgLmVxKCdzdGF0dXMnLCAnQUNUSVZFJylcbiAgICAuZXEoJ3BsYW4nLCBQTEFOX0lEKVxuICAgIC5ndCgnZXhwaXJ5X2RhdGUnLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpXG4gICAgLmxpbWl0KDEpXG4gICAgLm1heWJlU2luZ2xlKCk7XG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gIHJldHVybiAhIWRhdGE7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBY3RpdmVTdWJzY3JpcHRpb24odXNlcklkKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAuZnJvbSgnc3Vic2NyaXB0aW9ucycpXG4gICAgLnNlbGVjdCgnKicpXG4gICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgIC5lcSgnc3RhdHVzJywgJ0FDVElWRScpXG4gICAgLmVxKCdwbGFuJywgUExBTl9JRClcbiAgICAuZ3QoJ2V4cGlyeV9kYXRlJywgbmV3IERhdGUoKS50b0lTT1N0cmluZygpKVxuICAgIC5vcmRlcignZXhwaXJ5X2RhdGUnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQoMSlcbiAgICAubWF5YmVTaW5nbGUoKTtcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgcmV0dXJuIGRhdGEgfHwgbnVsbDtcbn1cbiJdLCJuYW1lcyI6WyJzdXBhYmFzZUFkbWluIiwiUExBTl9JRCIsImdldFVzZXJCeUVtYWlsIiwiZW1haWwiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJtYXliZVNpbmdsZSIsImVuc3VyZVVzZXIiLCJleGlzdGluZyIsImluc2VydCIsInNpbmdsZSIsImhhc0FjdGl2ZVN1YnNjcmlwdGlvbiIsInVzZXJJZCIsImd0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibGltaXQiLCJnZXRBY3RpdmVTdWJzY3JpcHRpb24iLCJvcmRlciIsImFzY2VuZGluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/subscription.js\n");

/***/ }),

/***/ "(api)/./lib/supabaseAdmin.js":
/*!******************************!*\
  !*** ./lib/supabaseAdmin.js ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__]);\n_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst supabaseUrl = process.env.SUPABASE_URL;\nconst serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!supabaseUrl || !serviceRoleKey) {\n    throw new Error(\"Missing Supabase admin credentials\");\n}\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, serviceRoleKey, {\n    auth: {\n        persistSession: false,\n        autoRefreshToken: false\n    }\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc3VwYWJhc2VBZG1pbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUVyRCxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNDLFlBQVk7QUFDNUMsTUFBTUMsaUJBQWlCSCxRQUFRQyxHQUFHLENBQUNHLHlCQUF5QjtBQUU1RCxJQUFJLENBQUNMLGVBQWUsQ0FBQ0ksZ0JBQWdCO0lBQ25DLE1BQU0sSUFBSUUsTUFBTTtBQUNsQjtBQUVPLE1BQU1DLGdCQUFnQlIsbUVBQVlBLENBQUNDLGFBQWFJLGdCQUFnQjtJQUNyRUksTUFBTTtRQUNKQyxnQkFBZ0I7UUFDaEJDLGtCQUFrQjtJQUNwQjtBQUNGLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b3R3aXNlLXNlcnZlci8uL2xpYi9zdXBhYmFzZUFkbWluLmpzPzY2ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9VUkw7XG5jb25zdCBzZXJ2aWNlUm9sZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVk7XG5cbmlmICghc3VwYWJhc2VVcmwgfHwgIXNlcnZpY2VSb2xlS2V5KSB7XG4gIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBTdXBhYmFzZSBhZG1pbiBjcmVkZW50aWFscycpO1xufVxuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VBZG1pbiA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc2VydmljZVJvbGVLZXksIHtcbiAgYXV0aDoge1xuICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZSxcbiAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZVxuICB9XG59KTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJTVVBBQkFTRV9VUkwiLCJzZXJ2aWNlUm9sZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJFcnJvciIsInN1cGFiYXNlQWRtaW4iLCJhdXRoIiwicGVyc2lzdFNlc3Npb24iLCJhdXRvUmVmcmVzaFRva2VuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseAdmin.js\n");

/***/ }),

/***/ "(api)/./lib/validate.js":
/*!*************************!*\
  !*** ./lib/validate.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PLAN_AMOUNT_INR: () => (/* binding */ PLAN_AMOUNT_INR),\n/* harmony export */   PLAN_AMOUNT_PAISE: () => (/* binding */ PLAN_AMOUNT_PAISE),\n/* harmony export */   PLAN_ID: () => (/* binding */ PLAN_ID),\n/* harmony export */   SUBSCRIPTION_DAYS: () => (/* binding */ SUBSCRIPTION_DAYS),\n/* harmony export */   isValidEmail: () => (/* binding */ isValidEmail)\n/* harmony export */ });\nconst PLAN_ID = \"age_2_3\";\nconst PLAN_AMOUNT_INR = 199;\nconst PLAN_AMOUNT_PAISE = PLAN_AMOUNT_INR * 100;\nconst SUBSCRIPTION_DAYS = 45;\nfunction isValidEmail(email) {\n    if (!email) return false;\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(String(email).toLowerCase());\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvdmFsaWRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTyxNQUFNQSxVQUFVLFVBQVU7QUFDMUIsTUFBTUMsa0JBQWtCLElBQUk7QUFDNUIsTUFBTUMsb0JBQW9CRCxrQkFBa0IsSUFBSTtBQUNoRCxNQUFNRSxvQkFBb0IsR0FBRztBQUU3QixTQUFTQyxhQUFhQyxLQUFLO0lBQ2hDLElBQUksQ0FBQ0EsT0FBTyxPQUFPO0lBQ25CLE9BQU8sNkJBQTZCQyxJQUFJLENBQUNDLE9BQU9GLE9BQU9HLFdBQVc7QUFDcEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b3R3aXNlLXNlcnZlci8uL2xpYi92YWxpZGF0ZS5qcz8wMDkwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBQTEFOX0lEID0gJ2FnZV8yXzMnO1xuZXhwb3J0IGNvbnN0IFBMQU5fQU1PVU5UX0lOUiA9IDE5OTtcbmV4cG9ydCBjb25zdCBQTEFOX0FNT1VOVF9QQUlTRSA9IFBMQU5fQU1PVU5UX0lOUiAqIDEwMDtcbmV4cG9ydCBjb25zdCBTVUJTQ1JJUFRJT05fREFZUyA9IDQ1O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEVtYWlsKGVtYWlsKSB7XG4gIGlmICghZW1haWwpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLnRlc3QoU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKTtcbn1cbiJdLCJuYW1lcyI6WyJQTEFOX0lEIiwiUExBTl9BTU9VTlRfSU5SIiwiUExBTl9BTU9VTlRfUEFJU0UiLCJTVUJTQ1JJUFRJT05fREFZUyIsImlzVmFsaWRFbWFpbCIsImVtYWlsIiwidGVzdCIsIlN0cmluZyIsInRvTG93ZXJDYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/validate.js\n");

/***/ }),

/***/ "(api)/./pages/api/webhooks/razorpay.js":
/*!****************************************!*\
  !*** ./pages/api/webhooks/razorpay.js ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/supabaseAdmin */ \"(api)/./lib/supabaseAdmin.js\");\n/* harmony import */ var _lib_subscription__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/subscription */ \"(api)/./lib/subscription.js\");\n/* harmony import */ var _lib_validate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/validate */ \"(api)/./lib/validate.js\");\n/* harmony import */ var _lib_postmark__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/postmark */ \"(api)/./lib/postmark.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_1__, _lib_subscription__WEBPACK_IMPORTED_MODULE_2__]);\n([_lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_1__, _lib_subscription__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nfunction getRawBody(req) {\n    return new Promise((resolve, reject)=>{\n        let data = \"\";\n        req.on(\"data\", (chunk)=>{\n            data += chunk;\n        });\n        req.on(\"end\", ()=>resolve(data));\n        req.on(\"error\", (err)=>reject(err));\n    });\n}\nfunction verifySignature(rawBody, signature, secret) {\n    const expected = crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", secret).update(rawBody).digest(\"hex\");\n    return expected === signature;\n}\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        res.setHeader(\"Allow\", \"POST\");\n        return res.status(405).end(\"Method not allowed\");\n    }\n    const rawBody = await getRawBody(req);\n    const signature = req.headers[\"x-razorpay-signature\"];\n    const webhookSecret = process.env.RAZORPAY_WEBHOOK_SECRET;\n    if (!signature || !webhookSecret) {\n        return res.status(400).end(\"Missing webhook signature\");\n    }\n    if (!verifySignature(rawBody, signature, webhookSecret)) {\n        return res.status(401).end(\"Invalid signature\");\n    }\n    const event = JSON.parse(rawBody);\n    console.log(\"[webhook] event received:\", event.event);\n    if (event.event !== \"payment.captured\") {\n        return res.status(200).json({\n            received: true\n        });\n    }\n    const payment = event.payload?.payment?.entity;\n    const email = payment?.notes?.email || payment?.email;\n    const amount = payment?.amount;\n    const paymentId = payment?.id;\n    console.log(\"[webhook] payment captured:\", {\n        paymentId,\n        amount,\n        email\n    });\n    if (!email || !paymentId) {\n        return res.status(400).end(\"Missing payment data\");\n    }\n    if (amount !== _lib_validate__WEBPACK_IMPORTED_MODULE_3__.PLAN_AMOUNT_PAISE) {\n        return res.status(400).end(\"Amount mismatch\");\n    }\n    try {\n        const user = await (0,_lib_subscription__WEBPACK_IMPORTED_MODULE_2__.ensureUser)(email);\n        const startDate = new Date();\n        const expiryDate = new Date(startDate.getTime());\n        expiryDate.setDate(expiryDate.getDate() + _lib_validate__WEBPACK_IMPORTED_MODULE_3__.SUBSCRIPTION_DAYS);\n        const { error: insertError } = await _lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"subscriptions\").insert({\n            user_id: user.id,\n            plan: _lib_validate__WEBPACK_IMPORTED_MODULE_3__.PLAN_ID,\n            amount: _lib_validate__WEBPACK_IMPORTED_MODULE_3__.PLAN_AMOUNT_INR,\n            status: \"ACTIVE\",\n            payment_id: paymentId,\n            start_date: startDate.toISOString(),\n            expiry_date: expiryDate.toISOString()\n        });\n        if (insertError) {\n            console.error(\"[webhook] subscription insert error\", insertError);\n            return res.status(500).end(\"Subscription insert failed\");\n        }\n        const token = crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(32).toString(\"hex\");\n        const expiresAt = new Date(Date.now() + 30 * 60 * 1000);\n        const { error: tokenError } = await _lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_1__.supabaseAdmin.from(\"auth_tokens\").insert({\n            token,\n            user_id: user.id,\n            expires_at: expiresAt.toISOString(),\n            used: false\n        });\n        if (tokenError) {\n            console.error(\"[webhook] auth token insert error\", tokenError);\n            return res.status(500).end(\"Auth token insert failed\");\n        }\n        const appBaseUrl = process.env.APP_BASE_URL;\n        if (!appBaseUrl) {\n            return res.status(500).end(\"Missing APP_BASE_URL\");\n        }\n        const loginLink = `${appBaseUrl}/login/login.html?token=${token}&email=${encodeURIComponent(email)}`;\n        const emailHtml = `\n      <div style=\"background:#FFF8F5;padding:24px 0;font-family:'DM Sans',Arial,sans-serif;color:#2D3B3A;\">\n        <div style=\"max-width:560px;margin:0 auto;background:#FFFFFF;border-radius:20px;padding:28px;box-shadow:0 12px 30px rgba(45,59,58,0.12);\">\n          <div style=\"display:flex;align-items:center;gap:12px;margin-bottom:16px;\">\n            <div style=\"width:40px;height:40px;border-radius:50%;background:#E8B4A0;display:flex;align-items:center;justify-content:center;font-weight:700;color:#2D3B3A;\">TW</div>\n            <div style=\"font-family:'Nunito',Arial,sans-serif;font-weight:800;font-size:18px;\">TotWise Lab</div>\n          </div>\n          <h1 style=\"font-family:'Nunito',Arial,sans-serif;font-size:22px;margin:0 0 12px;\">Payment successful.</h1>\n          <p style=\"margin:0 0 18px;line-height:1.6;color:#4A5857;\">Your subscription is active. Use the button below to access your dashboard.</p>\n          <a href=\"${loginLink}\" style=\"display:inline-block;background:#A8C5A0;color:#FFFFFF;text-decoration:none;padding:12px 22px;border-radius:999px;font-family:'Nunito',Arial,sans-serif;font-weight:700;\">Access your dashboard</a>\n          <p style=\"margin:18px 0 0;line-height:1.6;color:#4A5857;font-size:14px;\">This login link expires in 30 minutes and can only be used once. You can request a new link any time while your subscription is active.</p>\n        </div>\n        <div style=\"max-width:560px;margin:12px auto 0;text-align:center;color:#7A8A89;font-size:12px;\">\n          Â© 2026 TotWise Lab. Tiny Steps. Wise Growth.\n        </div>\n      </div>\n    `;\n        const emailText = `Payment successful.\\n\\nAccess your dashboard: ${loginLink}\\n\\nThis login link expires in 30 minutes and can only be used once. You can request a new link any time while your subscription is active.`;\n        const postmarkResult = await _lib_postmark__WEBPACK_IMPORTED_MODULE_4__.postmarkClient.sendEmail({\n            From: _lib_postmark__WEBPACK_IMPORTED_MODULE_4__.postmarkSender,\n            To: email,\n            Subject: \"Your secure TotWise login link\",\n            HtmlBody: emailHtml,\n            TextBody: emailText\n        });\n        console.log(\"[webhook] postmark response:\", postmarkResult);\n        return res.status(200).json({\n            received: true\n        });\n    } catch (error) {\n        console.error(\"[webhook] error\", error);\n        return res.status(500).end(\"Webhook error\");\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvd2ViaG9va3MvcmF6b3JwYXkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBNEI7QUFDK0I7QUFDSjtBQUNnRDtBQUNoQztBQUVoRSxNQUFNUyxTQUFTO0lBQ3BCQyxLQUFLO1FBQ0hDLFlBQVk7SUFDZDtBQUNGLEVBQUU7QUFFRixTQUFTQyxXQUFXQyxHQUFHO0lBQ3JCLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQixJQUFJQyxPQUFPO1FBQ1hKLElBQUlLLEVBQUUsQ0FBQyxRQUFRLENBQUNDO1lBQ2RGLFFBQVFFO1FBQ1Y7UUFDQU4sSUFBSUssRUFBRSxDQUFDLE9BQU8sSUFBTUgsUUFBUUU7UUFDNUJKLElBQUlLLEVBQUUsQ0FBQyxTQUFTLENBQUNFLE1BQVFKLE9BQU9JO0lBQ2xDO0FBQ0Y7QUFFQSxTQUFTQyxnQkFBZ0JDLE9BQU8sRUFBRUMsU0FBUyxFQUFFQyxNQUFNO0lBQ2pELE1BQU1DLFdBQVd6Qix3REFDSixDQUFDLFVBQVV3QixRQUNyQkcsTUFBTSxDQUFDTCxTQUNQTSxNQUFNLENBQUM7SUFDVixPQUFPSCxhQUFhRjtBQUN0QjtBQUVlLGVBQWVNLFFBQVFoQixHQUFHLEVBQUVpQixHQUFHO0lBQzVDLElBQUlqQixJQUFJa0IsTUFBTSxLQUFLLFFBQVE7UUFDekJELElBQUlFLFNBQVMsQ0FBQyxTQUFTO1FBQ3ZCLE9BQU9GLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxHQUFHLENBQUM7SUFDN0I7SUFFQSxNQUFNWixVQUFVLE1BQU1WLFdBQVdDO0lBQ2pDLE1BQU1VLFlBQVlWLElBQUlzQixPQUFPLENBQUMsdUJBQXVCO0lBQ3JELE1BQU1DLGdCQUFnQkMsUUFBUUMsR0FBRyxDQUFDQyx1QkFBdUI7SUFFekQsSUFBSSxDQUFDaEIsYUFBYSxDQUFDYSxlQUFlO1FBQ2hDLE9BQU9OLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxHQUFHLENBQUM7SUFDN0I7SUFFQSxJQUFJLENBQUNiLGdCQUFnQkMsU0FBU0MsV0FBV2EsZ0JBQWdCO1FBQ3ZELE9BQU9OLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxHQUFHLENBQUM7SUFDN0I7SUFFQSxNQUFNTSxRQUFRQyxLQUFLQyxLQUFLLENBQUNwQjtJQUN6QnFCLFFBQVFDLEdBQUcsQ0FBQyw2QkFBNkJKLE1BQU1BLEtBQUs7SUFFcEQsSUFBSUEsTUFBTUEsS0FBSyxLQUFLLG9CQUFvQjtRQUN0QyxPQUFPVixJQUFJRyxNQUFNLENBQUMsS0FBS1ksSUFBSSxDQUFDO1lBQUVDLFVBQVU7UUFBSztJQUMvQztJQUVBLE1BQU1DLFVBQVVQLE1BQU1RLE9BQU8sRUFBRUQsU0FBU0U7SUFDeEMsTUFBTUMsUUFBUUgsU0FBU0ksT0FBT0QsU0FBU0gsU0FBU0c7SUFDaEQsTUFBTUUsU0FBU0wsU0FBU0s7SUFDeEIsTUFBTUMsWUFBWU4sU0FBU087SUFDM0JYLFFBQVFDLEdBQUcsQ0FBQywrQkFBK0I7UUFDekNTO1FBQ0FEO1FBQ0FGO0lBQ0Y7SUFFQSxJQUFJLENBQUNBLFNBQVMsQ0FBQ0csV0FBVztRQUN4QixPQUFPdkIsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLEdBQUcsQ0FBQztJQUM3QjtJQUVBLElBQUlrQixXQUFXL0MsNERBQWlCQSxFQUFFO1FBQ2hDLE9BQU95QixJQUFJRyxNQUFNLENBQUMsS0FBS0MsR0FBRyxDQUFDO0lBQzdCO0lBRUEsSUFBSTtRQUNGLE1BQU1xQixPQUFPLE1BQU1yRCw2REFBVUEsQ0FBQ2dEO1FBQzlCLE1BQU1NLFlBQVksSUFBSUM7UUFDdEIsTUFBTUMsYUFBYSxJQUFJRCxLQUFLRCxVQUFVRyxPQUFPO1FBQzdDRCxXQUFXRSxPQUFPLENBQUNGLFdBQVdHLE9BQU8sS0FBS3ZELDREQUFpQkE7UUFFM0QsTUFBTSxFQUFFd0QsT0FBT0MsV0FBVyxFQUFFLEdBQUcsTUFBTTlELDZEQUFhQSxDQUMvQytELElBQUksQ0FBQyxpQkFDTEMsTUFBTSxDQUFDO1lBQ05DLFNBQVNYLEtBQUtELEVBQUU7WUFDaEJhLE1BQU1oRSxrREFBT0E7WUFDYmlELFFBQVFoRCwwREFBZUE7WUFDdkI2QixRQUFRO1lBQ1JtQyxZQUFZZjtZQUNaZ0IsWUFBWWIsVUFBVWMsV0FBVztZQUNqQ0MsYUFBYWIsV0FBV1ksV0FBVztRQUNyQztRQUVGLElBQUlQLGFBQWE7WUFDZnBCLFFBQVFtQixLQUFLLENBQUMsdUNBQXVDQztZQUNyRCxPQUFPakMsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLEdBQUcsQ0FBQztRQUM3QjtRQUVBLE1BQU1zQyxRQUFReEUseURBQWtCLENBQUMsSUFBSTBFLFFBQVEsQ0FBQztRQUM5QyxNQUFNQyxZQUFZLElBQUlsQixLQUFLQSxLQUFLbUIsR0FBRyxLQUFLLEtBQUssS0FBSztRQUVsRCxNQUFNLEVBQUVkLE9BQU9lLFVBQVUsRUFBRSxHQUFHLE1BQU01RSw2REFBYUEsQ0FDOUMrRCxJQUFJLENBQUMsZUFDTEMsTUFBTSxDQUFDO1lBQ05PO1lBQ0FOLFNBQVNYLEtBQUtELEVBQUU7WUFDaEJ3QixZQUFZSCxVQUFVTCxXQUFXO1lBQ2pDUyxNQUFNO1FBQ1I7UUFFRixJQUFJRixZQUFZO1lBQ2RsQyxRQUFRbUIsS0FBSyxDQUFDLHFDQUFxQ2U7WUFDbkQsT0FBTy9DLElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxHQUFHLENBQUM7UUFDN0I7UUFFQSxNQUFNOEMsYUFBYTNDLFFBQVFDLEdBQUcsQ0FBQzJDLFlBQVk7UUFDM0MsSUFBSSxDQUFDRCxZQUFZO1lBQ2YsT0FBT2xELElBQUlHLE1BQU0sQ0FBQyxLQUFLQyxHQUFHLENBQUM7UUFDN0I7UUFFQSxNQUFNZ0QsWUFBWSxDQUFDLEVBQUVGLFdBQVcsd0JBQXdCLEVBQUVSLE1BQU0sT0FBTyxFQUFFVyxtQkFBbUJqQyxPQUFPLENBQUM7UUFFcEcsTUFBTWtDLFlBQVksQ0FBQzs7Ozs7Ozs7O21CQVNKLEVBQUVGLFVBQVU7Ozs7Ozs7SUFPM0IsQ0FBQztRQUVELE1BQU1HLFlBQVksQ0FBQyw4Q0FBOEMsRUFBRUgsVUFBVSwySUFBMkksQ0FBQztRQUV6TixNQUFNSSxpQkFBaUIsTUFBTS9FLHlEQUFjQSxDQUFDZ0YsU0FBUyxDQUFDO1lBQ3BEQyxNQUFNaEYseURBQWNBO1lBQ3BCaUYsSUFBSXZDO1lBQ0p3QyxTQUFTO1lBQ1RDLFVBQVVQO1lBQ1ZRLFVBQVVQO1FBQ1o7UUFDQTFDLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0MwQztRQUU1QyxPQUFPeEQsSUFBSUcsTUFBTSxDQUFDLEtBQUtZLElBQUksQ0FBQztZQUFFQyxVQUFVO1FBQUs7SUFDL0MsRUFBRSxPQUFPZ0IsT0FBTztRQUNkbkIsUUFBUW1CLEtBQUssQ0FBQyxtQkFBbUJBO1FBQ2pDLE9BQU9oQyxJQUFJRyxNQUFNLENBQUMsS0FBS0MsR0FBRyxDQUFDO0lBQzdCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b3R3aXNlLXNlcnZlci8uL3BhZ2VzL2FwaS93ZWJob29rcy9yYXpvcnBheS5qcz83YTVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbmltcG9ydCB7IHN1cGFiYXNlQWRtaW4gfSBmcm9tICcuLi8uLi8uLi9saWIvc3VwYWJhc2VBZG1pbic7XG5pbXBvcnQgeyBlbnN1cmVVc2VyIH0gZnJvbSAnLi4vLi4vLi4vbGliL3N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBQTEFOX0lELCBQTEFOX0FNT1VOVF9JTlIsIFBMQU5fQU1PVU5UX1BBSVNFLCBTVUJTQ1JJUFRJT05fREFZUyB9IGZyb20gJy4uLy4uLy4uL2xpYi92YWxpZGF0ZSc7XG5pbXBvcnQgeyBwb3N0bWFya0NsaWVudCwgcG9zdG1hcmtTZW5kZXIgfSBmcm9tICcuLi8uLi8uLi9saWIvcG9zdG1hcmsnO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBhcGk6IHtcbiAgICBib2R5UGFyc2VyOiBmYWxzZVxuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRSYXdCb2R5KHJlcSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBkYXRhID0gJyc7XG4gICAgcmVxLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICBkYXRhICs9IGNodW5rO1xuICAgIH0pO1xuICAgIHJlcS5vbignZW5kJywgKCkgPT4gcmVzb2x2ZShkYXRhKSk7XG4gICAgcmVxLm9uKCdlcnJvcicsIChlcnIpID0+IHJlamVjdChlcnIpKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHZlcmlmeVNpZ25hdHVyZShyYXdCb2R5LCBzaWduYXR1cmUsIHNlY3JldCkge1xuICBjb25zdCBleHBlY3RlZCA9IGNyeXB0b1xuICAgIC5jcmVhdGVIbWFjKCdzaGEyNTYnLCBzZWNyZXQpXG4gICAgLnVwZGF0ZShyYXdCb2R5KVxuICAgIC5kaWdlc3QoJ2hleCcpO1xuICByZXR1cm4gZXhwZWN0ZWQgPT09IHNpZ25hdHVyZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCAnUE9TVCcpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuZW5kKCdNZXRob2Qgbm90IGFsbG93ZWQnKTtcbiAgfVxuXG4gIGNvbnN0IHJhd0JvZHkgPSBhd2FpdCBnZXRSYXdCb2R5KHJlcSk7XG4gIGNvbnN0IHNpZ25hdHVyZSA9IHJlcS5oZWFkZXJzWyd4LXJhem9ycGF5LXNpZ25hdHVyZSddO1xuICBjb25zdCB3ZWJob29rU2VjcmV0ID0gcHJvY2Vzcy5lbnYuUkFaT1JQQVlfV0VCSE9PS19TRUNSRVQ7XG5cbiAgaWYgKCFzaWduYXR1cmUgfHwgIXdlYmhvb2tTZWNyZXQpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmVuZCgnTWlzc2luZyB3ZWJob29rIHNpZ25hdHVyZScpO1xuICB9XG5cbiAgaWYgKCF2ZXJpZnlTaWduYXR1cmUocmF3Qm9keSwgc2lnbmF0dXJlLCB3ZWJob29rU2VjcmV0KSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuZW5kKCdJbnZhbGlkIHNpZ25hdHVyZScpO1xuICB9XG5cbiAgY29uc3QgZXZlbnQgPSBKU09OLnBhcnNlKHJhd0JvZHkpO1xuICBjb25zb2xlLmxvZygnW3dlYmhvb2tdIGV2ZW50IHJlY2VpdmVkOicsIGV2ZW50LmV2ZW50KTtcblxuICBpZiAoZXZlbnQuZXZlbnQgIT09ICdwYXltZW50LmNhcHR1cmVkJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHJlY2VpdmVkOiB0cnVlIH0pO1xuICB9XG5cbiAgY29uc3QgcGF5bWVudCA9IGV2ZW50LnBheWxvYWQ/LnBheW1lbnQ/LmVudGl0eTtcbiAgY29uc3QgZW1haWwgPSBwYXltZW50Py5ub3Rlcz8uZW1haWwgfHwgcGF5bWVudD8uZW1haWw7XG4gIGNvbnN0IGFtb3VudCA9IHBheW1lbnQ/LmFtb3VudDtcbiAgY29uc3QgcGF5bWVudElkID0gcGF5bWVudD8uaWQ7XG4gIGNvbnNvbGUubG9nKCdbd2ViaG9va10gcGF5bWVudCBjYXB0dXJlZDonLCB7XG4gICAgcGF5bWVudElkLFxuICAgIGFtb3VudCxcbiAgICBlbWFpbFxuICB9KTtcblxuICBpZiAoIWVtYWlsIHx8ICFwYXltZW50SWQpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmVuZCgnTWlzc2luZyBwYXltZW50IGRhdGEnKTtcbiAgfVxuXG4gIGlmIChhbW91bnQgIT09IFBMQU5fQU1PVU5UX1BBSVNFKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5lbmQoJ0Ftb3VudCBtaXNtYXRjaCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZW5zdXJlVXNlcihlbWFpbCk7XG4gICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBleHBpcnlEYXRlID0gbmV3IERhdGUoc3RhcnREYXRlLmdldFRpbWUoKSk7XG4gICAgZXhwaXJ5RGF0ZS5zZXREYXRlKGV4cGlyeURhdGUuZ2V0RGF0ZSgpICsgU1VCU0NSSVBUSU9OX0RBWVMpO1xuXG4gICAgY29uc3QgeyBlcnJvcjogaW5zZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdzdWJzY3JpcHRpb25zJylcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICB1c2VyX2lkOiB1c2VyLmlkLFxuICAgICAgICBwbGFuOiBQTEFOX0lELFxuICAgICAgICBhbW91bnQ6IFBMQU5fQU1PVU5UX0lOUixcbiAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgICAgcGF5bWVudF9pZDogcGF5bWVudElkLFxuICAgICAgICBzdGFydF9kYXRlOiBzdGFydERhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgZXhwaXJ5X2RhdGU6IGV4cGlyeURhdGUudG9JU09TdHJpbmcoKVxuICAgICAgfSk7XG5cbiAgICBpZiAoaW5zZXJ0RXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1t3ZWJob29rXSBzdWJzY3JpcHRpb24gaW5zZXJ0IGVycm9yJywgaW5zZXJ0RXJyb3IpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5lbmQoJ1N1YnNjcmlwdGlvbiBpbnNlcnQgZmFpbGVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgdG9rZW4gPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMzIpLnRvU3RyaW5nKCdoZXgnKTtcbiAgICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiA2MCAqIDEwMDApO1xuXG4gICAgY29uc3QgeyBlcnJvcjogdG9rZW5FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ2F1dGhfdG9rZW5zJylcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICB0b2tlbixcbiAgICAgICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICAgICAgZXhwaXJlc19hdDogZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVzZWQ6IGZhbHNlXG4gICAgICB9KTtcblxuICAgIGlmICh0b2tlbkVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbd2ViaG9va10gYXV0aCB0b2tlbiBpbnNlcnQgZXJyb3InLCB0b2tlbkVycm9yKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuZW5kKCdBdXRoIHRva2VuIGluc2VydCBmYWlsZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBhcHBCYXNlVXJsID0gcHJvY2Vzcy5lbnYuQVBQX0JBU0VfVVJMO1xuICAgIGlmICghYXBwQmFzZVVybCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5lbmQoJ01pc3NpbmcgQVBQX0JBU0VfVVJMJyk7XG4gICAgfVxuXG4gICAgY29uc3QgbG9naW5MaW5rID0gYCR7YXBwQmFzZVVybH0vbG9naW4vbG9naW4uaHRtbD90b2tlbj0ke3Rva2VufSZlbWFpbD0ke2VuY29kZVVSSUNvbXBvbmVudChlbWFpbCl9YDtcblxuICAgIGNvbnN0IGVtYWlsSHRtbCA9IGBcbiAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiNGRkY4RjU7cGFkZGluZzoyNHB4IDA7Zm9udC1mYW1pbHk6J0RNIFNhbnMnLEFyaWFsLHNhbnMtc2VyaWY7Y29sb3I6IzJEM0IzQTtcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cIm1heC13aWR0aDo1NjBweDttYXJnaW46MCBhdXRvO2JhY2tncm91bmQ6I0ZGRkZGRjtib3JkZXItcmFkaXVzOjIwcHg7cGFkZGluZzoyOHB4O2JveC1zaGFkb3c6MCAxMnB4IDMwcHggcmdiYSg0NSw1OSw1OCwwLjEyKTtcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6MTJweDttYXJnaW4tYm90dG9tOjE2cHg7XCI+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwid2lkdGg6NDBweDtoZWlnaHQ6NDBweDtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kOiNFOEI0QTA7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojMkQzQjNBO1wiPlRXPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6J051bml0bycsQXJpYWwsc2Fucy1zZXJpZjtmb250LXdlaWdodDo4MDA7Zm9udC1zaXplOjE4cHg7XCI+VG90V2lzZSBMYWI8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aDEgc3R5bGU9XCJmb250LWZhbWlseTonTnVuaXRvJyxBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToyMnB4O21hcmdpbjowIDAgMTJweDtcIj5QYXltZW50IHN1Y2Nlc3NmdWwuPC9oMT5cbiAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjowIDAgMThweDtsaW5lLWhlaWdodDoxLjY7Y29sb3I6IzRBNTg1NztcIj5Zb3VyIHN1YnNjcmlwdGlvbiBpcyBhY3RpdmUuIFVzZSB0aGUgYnV0dG9uIGJlbG93IHRvIGFjY2VzcyB5b3VyIGRhc2hib2FyZC48L3A+XG4gICAgICAgICAgPGEgaHJlZj1cIiR7bG9naW5MaW5rfVwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZDojQThDNUEwO2NvbG9yOiNGRkZGRkY7dGV4dC1kZWNvcmF0aW9uOm5vbmU7cGFkZGluZzoxMnB4IDIycHg7Ym9yZGVyLXJhZGl1czo5OTlweDtmb250LWZhbWlseTonTnVuaXRvJyxBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtd2VpZ2h0OjcwMDtcIj5BY2Nlc3MgeW91ciBkYXNoYm9hcmQ8L2E+XG4gICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46MThweCAwIDA7bGluZS1oZWlnaHQ6MS42O2NvbG9yOiM0QTU4NTc7Zm9udC1zaXplOjE0cHg7XCI+VGhpcyBsb2dpbiBsaW5rIGV4cGlyZXMgaW4gMzAgbWludXRlcyBhbmQgY2FuIG9ubHkgYmUgdXNlZCBvbmNlLiBZb3UgY2FuIHJlcXVlc3QgYSBuZXcgbGluayBhbnkgdGltZSB3aGlsZSB5b3VyIHN1YnNjcmlwdGlvbiBpcyBhY3RpdmUuPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT1cIm1heC13aWR0aDo1NjBweDttYXJnaW46MTJweCBhdXRvIDA7dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6IzdBOEE4OTtmb250LXNpemU6MTJweDtcIj5cbiAgICAgICAgICDCqSAyMDI2IFRvdFdpc2UgTGFiLiBUaW55IFN0ZXBzLiBXaXNlIEdyb3d0aC5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgY29uc3QgZW1haWxUZXh0ID0gYFBheW1lbnQgc3VjY2Vzc2Z1bC5cXG5cXG5BY2Nlc3MgeW91ciBkYXNoYm9hcmQ6ICR7bG9naW5MaW5rfVxcblxcblRoaXMgbG9naW4gbGluayBleHBpcmVzIGluIDMwIG1pbnV0ZXMgYW5kIGNhbiBvbmx5IGJlIHVzZWQgb25jZS4gWW91IGNhbiByZXF1ZXN0IGEgbmV3IGxpbmsgYW55IHRpbWUgd2hpbGUgeW91ciBzdWJzY3JpcHRpb24gaXMgYWN0aXZlLmA7XG5cbiAgICBjb25zdCBwb3N0bWFya1Jlc3VsdCA9IGF3YWl0IHBvc3RtYXJrQ2xpZW50LnNlbmRFbWFpbCh7XG4gICAgICBGcm9tOiBwb3N0bWFya1NlbmRlcixcbiAgICAgIFRvOiBlbWFpbCxcbiAgICAgIFN1YmplY3Q6ICdZb3VyIHNlY3VyZSBUb3RXaXNlIGxvZ2luIGxpbmsnLFxuICAgICAgSHRtbEJvZHk6IGVtYWlsSHRtbCxcbiAgICAgIFRleHRCb2R5OiBlbWFpbFRleHRcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygnW3dlYmhvb2tdIHBvc3RtYXJrIHJlc3BvbnNlOicsIHBvc3RtYXJrUmVzdWx0KTtcblxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHJlY2VpdmVkOiB0cnVlIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1t3ZWJob29rXSBlcnJvcicsIGVycm9yKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmVuZCgnV2ViaG9vayBlcnJvcicpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiY3J5cHRvIiwic3VwYWJhc2VBZG1pbiIsImVuc3VyZVVzZXIiLCJQTEFOX0lEIiwiUExBTl9BTU9VTlRfSU5SIiwiUExBTl9BTU9VTlRfUEFJU0UiLCJTVUJTQ1JJUFRJT05fREFZUyIsInBvc3RtYXJrQ2xpZW50IiwicG9zdG1hcmtTZW5kZXIiLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiZ2V0UmF3Qm9keSIsInJlcSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZGF0YSIsIm9uIiwiY2h1bmsiLCJlcnIiLCJ2ZXJpZnlTaWduYXR1cmUiLCJyYXdCb2R5Iiwic2lnbmF0dXJlIiwic2VjcmV0IiwiZXhwZWN0ZWQiLCJjcmVhdGVIbWFjIiwidXBkYXRlIiwiZGlnZXN0IiwiaGFuZGxlciIsInJlcyIsIm1ldGhvZCIsInNldEhlYWRlciIsInN0YXR1cyIsImVuZCIsImhlYWRlcnMiLCJ3ZWJob29rU2VjcmV0IiwicHJvY2VzcyIsImVudiIsIlJBWk9SUEFZX1dFQkhPT0tfU0VDUkVUIiwiZXZlbnQiLCJKU09OIiwicGFyc2UiLCJjb25zb2xlIiwibG9nIiwianNvbiIsInJlY2VpdmVkIiwicGF5bWVudCIsInBheWxvYWQiLCJlbnRpdHkiLCJlbWFpbCIsIm5vdGVzIiwiYW1vdW50IiwicGF5bWVudElkIiwiaWQiLCJ1c2VyIiwic3RhcnREYXRlIiwiRGF0ZSIsImV4cGlyeURhdGUiLCJnZXRUaW1lIiwic2V0RGF0ZSIsImdldERhdGUiLCJlcnJvciIsImluc2VydEVycm9yIiwiZnJvbSIsImluc2VydCIsInVzZXJfaWQiLCJwbGFuIiwicGF5bWVudF9pZCIsInN0YXJ0X2RhdGUiLCJ0b0lTT1N0cmluZyIsImV4cGlyeV9kYXRlIiwidG9rZW4iLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiZXhwaXJlc0F0Iiwibm93IiwidG9rZW5FcnJvciIsImV4cGlyZXNfYXQiLCJ1c2VkIiwiYXBwQmFzZVVybCIsIkFQUF9CQVNFX1VSTCIsImxvZ2luTGluayIsImVuY29kZVVSSUNvbXBvbmVudCIsImVtYWlsSHRtbCIsImVtYWlsVGV4dCIsInBvc3RtYXJrUmVzdWx0Iiwic2VuZEVtYWlsIiwiRnJvbSIsIlRvIiwiU3ViamVjdCIsIkh0bWxCb2R5IiwiVGV4dEJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/webhooks/razorpay.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fwebhooks%2Frazorpay&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fwebhooks%2Frazorpay.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();