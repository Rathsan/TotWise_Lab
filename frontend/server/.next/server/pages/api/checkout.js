"use strict";(()=>{var e={};e.id=756,e.ids=[756],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,r)=>{Object.defineProperty(r,"l",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},1814:(e,r,t)=>{t.r(r),t.d(r,{config:()=>A,default:()=>f,routeModule:()=>_});var n={};t.r(n),t.d(n,{default:()=>p});var o=t(1802),a=t(7153),u=t(6249);let i=require("razorpay");var s=t.n(i);let d=process.env.RAZORPAY_KEY_ID,c=process.env.RAZORPAY_KEY_SECRET;if(!d||!c)throw Error("Missing Razorpay credentials");let l=new(s())({key_id:d,key_secret:c});var P=t(770);async function p(e,r){if("POST"!==e.method)return r.setHeader("Allow","POST"),r.status(405).json({error:"Method not allowed"});let{email:t}=e.body||{};if(!(0,P.vV)(t))return r.status(400).json({error:"Valid email is required"});try{let e=await l.orders.create({amount:P.EB,currency:"INR",receipt:`tw_${Date.now()}`,notes:{email:t,plan:P.eX,amount:String(P.ws)}});return r.status(200).json({orderId:e.id,amount:e.amount,currency:e.currency,keyId:process.env.RAZORPAY_KEY_ID,email:t,plan:P.eX})}catch(e){return console.error("[checkout] Razorpay order error",e),r.status(500).json({error:"Unable to create order"})}}let f=(0,u.l)(n,"default"),A=(0,u.l)(n,"config"),_=new o.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/checkout",pathname:"/api/checkout",bundlePath:"",filename:""},userland:n})},770:(e,r,t)=>{t.d(r,{EB:()=>a,eX:()=>n,vV:()=>i,ws:()=>o,xd:()=>u});let n="age_2_3",o=199,a=19900,u=45;function i(e){return!!e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(e).toLowerCase())}},7153:(e,r)=>{var t;Object.defineProperty(r,"x",{enumerable:!0,get:function(){return t}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(t||(t={}))},1802:(e,r,t)=>{e.exports=t(145)}};var r=require("../../webpack-api-runtime.js");r.C(e);var t=r(r.s=1814);module.exports=t})();